<!DOCTYPE html>
<html lang="en" class="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cron Generator - Web Tool Hub</title>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=VT323&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />

    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        "primary": "#7f13ec",
                        "primary-dark": "#5e0eb0",
                        "background-light": "#f7f6f8",
                        "background-dark": "#191022",
                        "surface-dark": "#241830",
                        "border-dark": "#4d3267",
                    },
                    fontFamily: {
                        "display": ["Inter", "sans-serif"],
                        "retro": ["VT323", "monospace"],
                        "mono": ["JetBrains Mono", "monospace"],
                    },
                    backgroundImage: {
                        'grid-pattern': "linear-gradient(to right, #2a1d35 1px, transparent 1px), linear-gradient(to bottom, #2a1d35 1px, transparent 1px)",
                    },
                    boxShadow: {
                        "pixel": "4px 4px 0px 0px #7f13ec",
                        "pixel-sm": "2px 2px 0px 0px #7f13ec",
                        "green-glow": "0 0 10px rgba(74, 222, 128, 0.5)",
                    }
                }
            }
        }
    </script>
    <style>
        .cron-segment {
            background: #1e1329;
            border: 2px solid #4d3267;
            transition: all 0.2s;
            box-shadow: 2px 2px 0px 0px rgba(0, 0, 0, 0.5);
        }

        .cron-segment:hover,
        .cron-segment:focus {
            border-color: #7f13ec;
            transform: translateY(-2px);
            box-shadow: 4px 4px 0px 0px #7f13ec;
        }

        .lcd-display {
            background: #000;
            border: 4px solid #333;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.8);
            font-family: 'JetBrains Mono', monospace;
        }
    </style>
</head>

<body class="min-h-screen bg-background-dark text-slate-300 flex flex-col font-display">

    <!-- Grid Background -->
    <div class="fixed inset-0 pointer-events-none z-0 bg-grid-pattern bg-[length:20px_20px] opacity-20"></div>

    <!-- Header -->
    <header class="border-b border-border-dark bg-background-dark/95 backdrop-blur-sm sticky top-0 z-50 relative z-20">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-4">
                    <a href="utilities.html"
                        class="flex items-center justify-center size-10 bg-surface-dark border border-border-dark hover:border-primary hover:text-white transition-all shadow-sm rounded-none">
                        <span class="material-symbols-outlined text-xl">arrow_back</span>
                    </a>
                    <div class="flex items-center gap-3">
                        <div
                            class="size-10 bg-green-500 flex items-center justify-center shadow-pixel-sm border border-white/20">
                            <span class="material-symbols-outlined text-black">schedule</span>
                        </div>
                        <div>
                            <h1 class="text-2xl font-bold text-white font-retro tracking-wider leading-none">CRON
                                GENERATOR</h1>
                            <p class="text-[10px] font-mono text-green-500 uppercase tracking-widest">v2.1 // Task
                                Scheduler</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-1 max-w-4xl mx-auto px-4 sm:px-6 py-8 w-full flex flex-col gap-8 relative z-10">

        <!-- Result Display -->
        <div
            class="lcd-display p-8 rounded-sm text-center flex flex-col gap-6 border-border-dark relative overflow-hidden">
            <div class="absolute inset-0 bg-green-500/5 pointer-events-none animate-pulse"></div>
            <p class="font-retro text-xl text-gray-500 tracking-widest uppercase">Generated_Expression</p>

            <div class="flex justify-center items-center gap-6 relative z-10">
                <div class="relative group">
                    <code id="cron-result"
                        class="text-5xl md:text-6xl font-retro text-green-400 tracking-widest drop-shadow-md select-all">* * * * *</code>
                    <div
                        class="absolute -bottom-4 left-0 w-full h-px bg-green-500/50 scale-x-0 group-hover:scale-x-100 transition-transform">
                    </div>
                </div>
                <button onclick="copyCron()"
                    class="p-3 bg-surface-dark border border-border-dark hover:border-green-500 hover:text-green-500 transition-all rounded-none group relative"
                    title="Copy to Clipboard">
                    <span
                        class="material-symbols-outlined group-hover:scale-110 transition-transform">content_copy</span>
                    <span
                        class="absolute -top-8 left-1/2 -translate-x-1/2 bg-green-500 text-black text-[10px] px-2 py-0.5 font-bold opacity-0 group-hover:opacity-100 transition-opacity">COPY</span>
                </button>
            </div>

            <div class="border-t border-white/10 pt-4 mt-2">
                <p class="font-mono text-sm uppercase text-gray-500 mb-1">Human Readable:</p>
                <p id="cron-human" class="text-lg text-white font-bold tracking-wide">Every minute</p>
            </div>
        </div>

        <!-- Builder Controls -->
        <div class="bg-surface-dark border-2 border-border-dark p-8 shadow-pixel">
            <div class="grid grid-cols-5 gap-4 md:gap-6 mb-2">
                <!-- Labels -->
                <div class="col-span-1 text-center font-retro text-lg text-primary tracking-wide">MINUTE</div>
                <div class="col-span-1 text-center font-retro text-lg text-primary tracking-wide">HOUR</div>
                <div class="col-span-1 text-center font-retro text-lg text-primary tracking-wide">DAY</div>
                <div class="col-span-1 text-center font-retro text-lg text-primary tracking-wide">MONTH</div>
                <div class="col-span-1 text-center font-retro text-lg text-primary tracking-wide">WEEKDAY</div>

                <!-- Inputs -->
                <input type="text" value="*"
                    class="cron-segment col-span-1 text-center font-mono text-2xl py-4 bg-background-dark text-white focus:outline-none"
                    data-idx="0">
                <input type="text" value="*"
                    class="cron-segment col-span-1 text-center font-mono text-2xl py-4 bg-background-dark text-white focus:outline-none"
                    data-idx="1">
                <input type="text" value="*"
                    class="cron-segment col-span-1 text-center font-mono text-2xl py-4 bg-background-dark text-white focus:outline-none"
                    data-idx="2">
                <input type="text" value="*"
                    class="cron-segment col-span-1 text-center font-mono text-2xl py-4 bg-background-dark text-white focus:outline-none"
                    data-idx="3">
                <input type="text" value="*"
                    class="cron-segment col-span-1 text-center font-mono text-2xl py-4 bg-background-dark text-white focus:outline-none"
                    data-idx="4">
            </div>
            <div class="flex justify-between px-2 mt-2">
                <div class="text-[10px] font-mono text-gray-500 uppercase">0-59</div>
                <div class="text-[10px] font-mono text-gray-500 uppercase">0-23</div>
                <div class="text-[10px] font-mono text-gray-500 uppercase">1-31</div>
                <div class="text-[10px] font-mono text-gray-500 uppercase">1-12</div>
                <div class="text-[10px] font-mono text-gray-500 uppercase">0-6 (Sun-Sat)</div>
            </div>
        </div>

        <!-- Presets -->
        <div class="bg-surface-dark border-2 border-border-dark p-6 relative">
            <div
                class="absolute -top-3 left-4 bg-background-dark px-2 font-retro text-primary border border-primary text-sm uppercase">
                Quick_Presets</div>
            <div class="flex flex-wrap gap-3 mt-2">
                <button onclick="setCron('* * * * *')"
                    class="px-4 py-2 bg-background-dark border border-border-dark hover:border-primary hover:text-white hover:bg-primary/10 transition-all font-mono text-xs uppercase">Every
                    Minute</button>
                <button onclick="setCron('0 * * * *')"
                    class="px-4 py-2 bg-background-dark border border-border-dark hover:border-primary hover:text-white hover:bg-primary/10 transition-all font-mono text-xs uppercase">Hourly</button>
                <button onclick="setCron('0 0 * * *')"
                    class="px-4 py-2 bg-background-dark border border-border-dark hover:border-primary hover:text-white hover:bg-primary/10 transition-all font-mono text-xs uppercase">Daily
                    (Midnight)</button>
                <button onclick="setCron('0 0 * * 0')"
                    class="px-4 py-2 bg-background-dark border border-border-dark hover:border-primary hover:text-white hover:bg-primary/10 transition-all font-mono text-xs uppercase">Weekly
                    (Sun)</button>
                <button onclick="setCron('0 0 1 * *')"
                    class="px-4 py-2 bg-background-dark border border-border-dark hover:border-primary hover:text-white hover:bg-primary/10 transition-all font-mono text-xs uppercase">Monthly
                    (1st)</button>
                <button onclick="setCron('*/5 * * * *')"
                    class="px-4 py-2 bg-background-dark border border-border-dark hover:border-primary hover:text-white hover:bg-primary/10 transition-all font-mono text-xs uppercase">Every
                    5 Min</button>
            </div>
        </div>

    </main>

    <script src="js/usage-stats.js"></script>
    <script src="settings.js"></script>
    <script src="js/global-search.js"></script>
    <script>
        const inputs = document.querySelectorAll('.cron-segment');

        inputs.forEach(input => {
            input.addEventListener('input', updateCron);
            input.addEventListener('focus', () => input.select());
        });

        function updateCron() {
            const parts = Array.from(inputs).map(i => i.value.trim() || '*');
            const cron = parts.join(' ');

            document.getElementById('cron-result').textContent = cron;
            document.getElementById('cron-human').textContent = describeCron(parts);
        }

        function setCron(val) {
            const parts = val.split(' ');
            if (parts.length !== 5) return;

            parts.forEach((p, i) => {
                inputs[i].value = p;
            });
            updateCron();
        }

        function copyCron() {
            const cron = document.getElementById('cron-result').textContent;
            navigator.clipboard.writeText(cron);

            const btn = document.querySelector('button[onclick="copyCron()"]');
            const originalIcon = btn.innerHTML;
            btn.innerHTML = '<span class="material-symbols-outlined text-green-500">check</span>';
            setTimeout(() => {
                btn.innerHTML = '<span class="material-symbols-outlined group-hover:scale-110 transition-transform">content_copy</span><span class="absolute -top-8 left-1/2 -translate-x-1/2 bg-green-500 text-black text-[10px] px-2 py-0.5 font-bold opacity-0 group-hover:opacity-100 transition-opacity">COPY</span>';
            }, 1000);
        }

        function describeCron(parts) {
            const [min, hour, day, month, week] = parts;

            if (parts.every(p => p === '*')) return "Executes every minute";
            if (min === '0' && hour === '*' && day === '*' && month === '*' && week === '*') return "Executes every hour, upon the hour";
            if (min === '0' && hour === '0' && day === '*' && month === '*' && week === '*') return "Executes at midnight every day";

            let desc = "At ";

            // Time
            if (min !== '*' && hour !== '*') desc += `${hour}:${min.padStart(2, '0')}`;
            else if (min === '0' && hour !== '*') desc += `${hour}:00`;
            else if (min !== '*' && hour === '*') desc += `minute ${min} past every hour`;
            else desc += "every minute";

            // Date
            if (day !== '*') desc += ` on day ${day} of the month`;
            if (week !== '*') desc += ` on ${getWeekday(week)}`;
            if (month !== '*') desc += ` in ${getMonth(month)}`;

            return desc;
        }

        // ... (Keep generic helpers: getWeekday, getMonth) ...
        function getWeekday(val) {
            const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
            if (val === '*') return 'every day';
            if (!isNaN(val)) return days[parseInt(val) % 7] || val;
            return val;
        }

        function getMonth(val) {
            const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
            if (val === '*') return 'every month';
            if (!isNaN(val)) return months[parseInt(val) - 1] || val;
            return val;
        }

        updateCron();
    </script>

</body>

</html>